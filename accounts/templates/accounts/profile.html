{% extends 'campaigns/base_layout.html' %}

{% block title %}Profile{% endblock %}

{% block content %}
    <div class="row login-main">
        <div class="container">
            <div class="row">
                {% if messages %}
                <ul class="messages card-panel green darken-1 white-text center">
                    {% for message in messages %}
                    <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
                    {% endfor %}
                </ul>
                {% endif %}
            </div>
            <div class="row">
                <div class="col l3 s12 vertical-wrapper">
                    <div class="valign">
                        <div class="card-panel">
                            <h5>Dashboard</h5>
                            <ul class="tabs">
                                <li class="tab"><a href="#profile">Profile</a></li>
                                <!--<li class="tab"><a href="#tab2">My Campaigns</a></li>-->
                                <li class="tab"><a href="#tab3">My Votes</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col l9 s12 vertical-wrapper">
                    <div class="valign">
                        <div class="col sm6" id="profile">
                            <h5>Profile</h5>
                            <div class="row">
                                <!--<img src="{{ profile.profile_image.url }}" alt="Profile image"
                                             style="width: 100px; height: auto; border-radius: 99px;">-->
                                <img src="../../../static/media/staticimages/user.png" alt="Profile image"
                                             style="width: 100px; height: auto; border-radius: 99px;">

                                <h6><b>Name: </b>{{ user.first_name }} {{ user.last_name }}</h6>
                                <p><b>Username: </b>{{ user.username }}</p>
                                <p><b>Email: </b>{{ user.email }}</p>

                                <div class="">
                                    <a href="{% url 'accounts:edit_profile' user.id %}" class="btn btn-small light-blue darken-4">Edit profile</a>
                                    <a href="{% url 'password_change' %}" class="btn btn-small light-blue darken-3">Change Password</a>
                                </div>

                            </div>



                        </div>
                        <!--<div class="col s12" id="tab2">
                            <div class="row">
                                <div class="right">
                                    <td><a href="{% url 'campaigns:index' %}" class="btn btn-small light-blue darken-2"><i class="small material-icons">add</i></a></td>
                                </div>
                                <h5>My Campaigns</h5>
                            </div>

                            {% if campaigns %}
                            <div class="row">
                                <table>
                                    &lt;!&ndash;<thead>&ndash;&gt;
                                        <tr>
                                            <th>Campaign applied</th>
                                            <th>Our name</th>
                                            <th>Email</th>
                                            <th>Votes</th>
                                            <th></th>
                                            <th></th>
                                            <th></th>
                                        </tr>
                                    &lt;!&ndash;</thead>&ndash;&gt;
                                {% for campaign in campaigns %}

                                    &lt;!&ndash;<tbody>&ndash;&gt;
                                        <tr>
                                            <td>{{ campaign.open_campaign }}</td>
                                            <td>{{ campaign.organization_or_group_name }}</td>
                                            <td>{{ campaign.email_address }}</td>
                                            <td>{{ campaign.total_votes }}</td>
                                            <td><a href="" class="btn btn-small light-blue darken-4">View</a></td>
                                            <td><a href="" class="btn btn-small light-blue darken-2">Edit</a></td>
                                            <td><a href="" class="btn btn-small red darken-4">Delete</a></td>

                                        </tr>
                                    &lt;!&ndash;</tbody>&ndash;&gt;
                                {% endfor %}

                                </table>

                            </div>
                            {% else %}

                            <div class="red darken-2 white-text">
                                <p style="padding: 30px 15px;">
                                    You have no campaigns at the moment!
                                </p>
                            </div>
                            {% endif %}


                        </div>-->
                        <div class="row" id="tab3">
                            <h5>My Votes</h5>
                            <div class="">

                                {% for vote in votes %}
                                <table class="">
                                    <thead>
                                        <tr>
                                            <th>Campaign</th>
                                            <th>Group/Org Name</th>
                                            <th>Vote Date</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>{{ vote.open_campaign }}</td>
                                            <td>{{ vote.organization_or_group_name }}</td>
                                            <td>{{ vote.vote_time }}</td>
                                            <td><a href="" class="btn btn-small light-blue darken-4">View</a></td>

                                        </tr>
                                    </tbody>
                                    <td>{{ campaign.open_campaign }}</td>
                                </table>
                                {% empty %}
                                <div class="red darken-2 white-text">
                                    <p style="padding: 30px 15px;">
                                        You have not voted for any campaign yet! You can vote now.
                                        <a href="{% url 'campaigns:posted_campaigns' %}" class="btn btn-small light-blue darken-3">Vote</a>
                                    </p>

                                </div>

                                {% endfor %}
                            </div>

                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}